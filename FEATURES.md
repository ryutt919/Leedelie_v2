# Leedeli — 기능 목록

아래는 현재 프로젝트(리액트 + 타입스크립트, Vite 기반)의 구현된 주요 기능 정리입니다. UI는 Ant Design을 사용하며 데이터는 브라우저 `localStorage`에 저장됩니다.

## 공통 / 앱 구조

- 해시 라우팅 기반 SPA: 홈, 스케줄 생성, 스케줄 관리/조회, 프렙/소스 관리, 재료 관리
- 데이터 저장: 브라우저 `localStorage` 사용

## 홈 (Home)

- 빠른 이동(스케줄 생성/관리, 프렙/소스, 재료)
- 근무 규칙 설정/저장
  - 기본 근무 인원(`DAILY_STAFF_BASE`, 0.5 단위)
  - 최대 근무 인원(`DAILY_STAFF_MAX`, 0.5 단위)
  - 1인 근무시간(`WORK_HOURS`), 휴게시간(`BREAK_HOURS`)
  - 입력 검증 후 로컬에 저장

## 스케줄 생성 (Create)

- 기본 설정: 연도/월 선택
- 근무 인원(직원) 설정
  - 인원 수 지정(1~20) → 인원 배열 생성
  - 인원별 입력: 이름, 가능 시프트(오픈/미들/마감), 필수 시프트, 선호 시프트, 우선순위(오픈/미들/마감)
  - 우선순위는 접기/펼치기로 입력
  - "확인"으로 이름 입력 완료(이후 휴무/하프 설정 가능)
- 직원 구성 저장/불러오기
  - 현재 직원 목록을 저장하여 재사용 가능
  - 편집 모드가 아니면 앱 시작 시 저장된 구성 자동 로드
- 휴무/하프 요청 캘린더
  - 대상 인원 선택(버튼 토글), 모드(휴무/하프) 전환
  - 날짜 클릭으로 휴무/하프 토글, 하프일 경우 시프트 라디오 선택
  - 날짜별 필요 인원(기본→증가 토글) 설정
  - 전체 초기화 기능
  - 각 날짜 셀에 휴무/하프 요약 태그 표시
- 스케줄 생성/검증
  - 입력 검증: 규칙, 충돌, 우선순위/가능 시프트 유효성, 일자별 인원 검증 등(`validateScheduleInputs`)
  - 생성 로직: 하프 요청 우선 고정, 풀근무 배정(필수 시프트 보장), 우선순위/선호 반영(`generateSchedule`)
  - 생성 결과 방어적 검증(`validateGeneratedSchedule`)
- 결과 표시/저장/내보내기
  - 인원별 근무 통계(근무 환산·하프·휴무 환산)
  - 월간 캘린더로 스케줄 시각화
  - 스케줄 저장(로컬), 엑셀(xlsx) 내보내기
  - 편집 모드: 기존 스케줄 로드 후 재생성·저장

## 스케줄 관리/조회 (Manage)

- 저장된 스케줄 목록 조회
- 필터: 연도/월/인원 이름 검색
- 스케줄 삭제(확인 모달)
- 필터 결과 엑셀 내보내기
- 행 확장: 인원별 통계 및 월간 전체 달력 보기
- "수정"으로 스케줄 생성 페이지 편집 모드 진입

## 재료 관리 (Ingredients)

- 재료 CRUD: 이름, 구매가격, 구매단위, 단위가격(자동계산)
- CSV 업로드(미리보기 후 적용)
  - 포맷: `이름,가격,구매단위`
  - 기존 항목 매칭(이름 기준, 대소문자 무시)
  - 완전 동일 행은 자동 무시
  - 미리보기에서 행별 액션(갱신/무시) 선택, 일괄 적용
  - 적용 결과: 생성/갱신/스킵 집계
- 내보내기: 엑셀(xlsx), CSV(BOM 포함)

## 프렙/소스 관리 (Preps)

- 프렙 CRUD: 이름, 재료 목록(재료 선택+투입량), 보충 이력
- 총 재료 비용 계산(재료 단가 × 투입량 합)
- 평균 보충 간격 산출 및 다음 보충 예상일
- CSV 업로드(미리보기 후 적용)
  - 포맷: `이름,재료명,투입량,보충날짜1,보충날짜2...`
  - 같은 프렙명 병합(재료 누적)
  - CSV에 없는 재료명은 자동 생성(가격 0)
  - 미리보기에서 행별 액션 선택, 일괄 적용
- 내보내기: 엑셀(xlsx), CSV(BOM 포함)
- 전체 초기화

## CSV 미리보기 공통 모달

- 업로드된 CSV를 파싱하여 기존 항목과 비교
- 행별로 기존 항목/파싱 결과/유효성 오류 표시
- 행별 액션 선택(업데이트/추가안함), 전체 일괄 적용

---



